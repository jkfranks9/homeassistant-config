#================================#
#     Notification Tags Card     #
#================================#

type: custom:stack-in-card
title: Notification Tags
mode: vertical
cards:
  
  - type: 'custom:button-card'
    template: container

    custom_fields:
      buttons:
        card:
          type: grid
          columns: 3
          square: false
          cards:
            
            - type: 'custom:button-card'
              template: input_button
              show_state: false
              entity: sensor.mobile_tag_registry_keys
              name: >
                [[[ 
                  var len = states['sensor.mobile_tag_registry_keys'].state;
                  if (len == 0) {
                    return "None";
                  }
                  else if (len == 1) {
                    return len + " Tag"; 
                  }
                  else {
                    return len + " Tags"; 
                  }
                ]]]
            
            - type: 'custom:button-card'
              template: input_button
              entity: input_number.mobile_tags_key
              name: 'Key #'
            
            - type: button
              name: >
                [[[
                  return "Unregister " + Math.trunc(states['input_number.mobile_tags_key'].state);
                ]]]
              show_state: false
              tap_action:
                action: call-service
                service: script.remove_mobile_notification_from_index
