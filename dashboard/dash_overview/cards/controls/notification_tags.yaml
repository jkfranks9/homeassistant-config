#================================#
#     Notification Tags Card     #
#================================#

type: custom:stack-in-card
title: Notification Tags
mode: vertical
cards:
  
  - type: 'custom:button-card'
    template: container

    custom_fields:
      buttons:
        card:
          type: grid
          columns: 2
          square: false
          cards:
            
            - type: 'custom:button-card'
              template: input_button
              show_state: false
              entity: input_select.mobile_tags
              name: >
                [[[ 
                  var len = states['input_select.mobile_tags'].attributes.options.length;
                  if (len == 1 && states['input_select.mobile_tags'].state == 'dummy') {
                    return "None";
                  }
                  else if (len == 1) {
                    return len + " Tag"; 
                  }
                  else {
                    return len + " Tags"; 
                  }
                ]]]
            
            - type: button
              name: >
                [[[
                  return "Unreg '" + states['input_select.mobile_tags'].state + "'";
                ]]]
              show_state: false
              tap_action:
                action: call-service
                service: script.unregister_mobile_notification_from_select
