#=========================#
#     Deliveries Card     #
#=========================#

type: custom:stack-in-card
title: Deliveries & Mail
mode: vertical

cards:
  
  - type: 'custom:button-card'
    template: container

    custom_fields:
      buttons:
        card:
          type: grid
          columns: 3
          square: false
          cards:
          
            - type: 'custom:button-card'
              template: delivery_button
              name: Amazon
              label: >
                [[[
                  return states['sensor.mail_amazon_packages'].state + " ➤ " + states['sensor.mail_amazon_packages_delivered'].state;
                ]]]
              icon: mdi:alpha-a-box-outline
              styles:
                icon:
                  - color: >
                      [[[
                        if (states['sensor.mail_amazon_packages_delivered'].state > 0)
                          return 'var(--success-color)';
                        else if (states['sensor.mail_amazon_packages'].state > 0)
                          return 'var(--accent-color)';
                        else if (states['sensor.mail_amazon_packages'].state == 0)
                          return 'var(--paper-item-icon-color)';
                        else
                          return 'var(--secondary-text-color)';
                      ]]]
              
            - type: 'custom:button-card'
              template: delivery_button
              name: USPS
              label: >
                [[[
                  return states['sensor.mail_usps_packages'].state + " ➤ " + states['sensor.mail_usps_delivering'].state + " ➤ " + states['sensor.mail_usps_delivered'].state;
                ]]]
              icon: mdi:package-variant-closed
              styles:
                icon:
                  - color: >
                      [[[
                        if (states['sensor.mail_usps_delivered'].state > 0)
                          return 'var(--success-color)';
                        else if (states['sensor.mail_usps_delivering'].state > 0)
                          return 'var(--primary-color)';
                        else if (states['sensor.mail_usps_packages'].state > 0)
                          return 'var(--accent-color)';
                        else if (states['sensor.mail_usps_packages'].state == 0)
                          return 'var(--paper-item-icon-color)';
                        else
                          return 'var(--secondary-text-color)';
                      ]]]
          
            - type: 'custom:button-card'
              template: delivery_button
              name: UPS
              label: >
                [[[
                  return states['sensor.mail_ups_packages'].state + " ➤ " + states['sensor.mail_ups_delivering'].state + " ➤ " + states['sensor.mail_ups_delivered'].state;
                ]]]
              icon: mdi:alpha-u-box-outline
              styles:
                icon:
                  - color: >
                      [[[
                        if (states['sensor.mail_ups_delivered'].state > 0)
                          return 'var(--success-color)';
                        else if (states['sensor.mail_ups_delivering'].state > 0)
                          return 'var(--primary-color)';
                        else if (states['sensor.mail_ups_packages'].state > 0)
                          return 'var(--accent-color)';
                        else if (states['sensor.mail_ups_packages'].state == 0)
                          return 'var(--paper-item-icon-color)';
                        else
                          return 'var(--secondary-text-color)';
                      ]]]
              
            - type: 'custom:button-card'
              template: delivery_button
              name: Fedex
              label: >
                [[[
                  return states['sensor.mail_fedex_packages'].state + " ➤ " + states['sensor.mail_fedex_delivering'].state + " ➤ " + states['sensor.mail_fedex_delivered'].state;
                ]]]
              icon: mdi:alpha-f-box-outline
              styles:
                icon:
                  - color: >
                      [[[
                        if (states['sensor.mail_fedex_delivered'].state > 0)
                          return 'var(--success-color)';
                        else if (states['sensor.mail_fedex_delivering'].state > 0)
                          return 'var(--primary-color)';
                        else if (states['sensor.mail_fedex_packages'].state > 0)
                          return 'var(--accent-color)';
                        else if (states['sensor.mail_fedex_packages'].state == 0)
                          return 'var(--paper-item-icon-color)';
                        else
                          return 'var(--secondary-text-color)';
                      ]]]
          
            - type: 'custom:button-card'
              template: delivery_button
              name: Mail
              label: >
                [[[
                  if (states['sensor.mail_usps_mail'].state == 1)
                    return states['sensor.mail_usps_mail'].state + " piece";
                  else
                    return states['sensor.mail_usps_mail'].state + " pieces";
                ]]]
              icon: |-
                [[[
                  if (states['sensor.mail_usps_mail'].state > 0)
                    return "mdi:mailbox-open-up";
                  else
                    return "mdi:mailbox";
                ]]]
              styles:
                icon:
                  - color: >
                      [[[
                        if (states['sensor.mail_usps_mail'].state > 0)
                          return 'var(--primary-color)';
                        else
                          return 'var(--paper-item-icon-color)';
                      ]]]
